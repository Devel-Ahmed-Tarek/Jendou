# دليل الإعداد السريع - نظام شركات الشحن للتاجر

## الخطوة 1: تشغيل Migration

```bash
php artisan migrate
```

## الخطوة 2: التحقق من وجود شركات الشحن

تأكد من وجود شركات شحن في النظام من خلال:

```
لوحة تحكم المدير → Shipping → Carriers
```

إذا لم تكن موجودة، أضف شركة شحن جديدة.

## الخطوة 3: الوصول للصفحة

```
التاجر → لوحة التحكم → Shipping Carriers
```

## الخطوة 4: تفعيل شركة شحن

### البيانات المطلوبة:

- **التكلفة الأساسية**: تكلفة ثابتة للشحن
- **الحد الأدنى**: أقل تكلفة للشحن
- **التكلفة لكل كجم**: (اختياري)
- **التكلفة لكل كم**: (اختياري)
- **الحد الأقصى**: (اختياري)
- **المناطق**: (اختياري)
- **بيانات API**: (اختياري)

### مثال للإعداد:

```
التكلفة الأساسية: 15
الحد الأدنى: 20
التكلفة لكل كجم: 2
التكلفة لكل كم: 0.5
الحد الأقصى: 100
المناطق: Local, National
```

## الخطوة 5: اختبار النظام

### اختبار حساب التكلفة:

```
الوزن: 5 كجم
المسافة: 20 كم
المنطقة: Local

النتيجة المتوقعة: 20 (الحد الأدنى)
```

### اختبار API (إذا كان متاحاً):

1. أدخل بيانات API
2. اضغط "Test Connection"
3. تحقق من النتيجة

## الخطوة 6: التكامل مع الطلبات

### إضافة تكلفة الشحن للطلبات:

```php
// في OrderController أو CheckoutController
$shippingCost = $this->carrier_repository->calculateShippingCost(
    $sellerId,
    $orderWeight,
    $orderDistance,
    $shippingZone
);

$order->shipping_cost = $shippingCost;
$order->save();
```

## إعدادات متقدمة

### 1. نطاقات الوزن

```json
[
  { "min": 0, "max": 1, "cost": 10 },
  { "min": 1, "max": 5, "cost": 15 },
  { "min": 5, "max": 10, "cost": 25 }
]
```

### 2. نطاقات المسافة

```json
[
  { "min": 0, "max": 10, "cost": 5 },
  { "min": 10, "max": 50, "cost": 10 },
  { "min": 50, "max": 100, "cost": 20 }
]
```

### 3. بيانات API

```json
{
  "api_key": "your_api_key",
  "username": "your_username",
  "password": "your_password",
  "endpoint": "https://api.carrier.com"
}
```

## استكشاف الأخطاء السريع

### المشكلة: لا تظهر شركات الشحن

**الحل**: تأكد من وجود شركات شحن مفعلة في النظام

### المشكلة: لا يمكن تفعيل الشركة

**الحل**: تأكد من إدخال التكلفة الأساسية والحد الأدنى

### المشكلة: خطأ في حساب التكلفة

**الحل**: تحقق من صحة الصيغ والقيم المدخلة

### المشكلة: مشاكل في API

**الحل**: اختبر الاتصال قبل الحفظ

## نصائح مهمة

1. **ابدأ بسيطاً**: استخدم التكلفة الأساسية والحد الأدنى فقط
2. **اختبر دائماً**: اختبر النظام قبل الإطلاق
3. **وثق الإعدادات**: احتفظ بنسخة من الإعدادات
4. **راقب الأداء**: راقب تكاليف الشحن بانتظام
5. **حدث الأسعار**: حدث الأسعار حسب التغيرات في السوق

## الدعم

- **التوثيق الكامل**: `SELLER_SHIPPING_CARRIERS_GUIDE.md`
- **الكود المصدري**: متاح في المجلدات المذكورة
- **المساعدة**: راجع قسم استكشاف الأخطاء

## الخلاصة

النظام جاهز للاستخدام بعد تشغيل Migration وإضافة شركات الشحن. يمكن للتجار تفعيل شركة واحدة وإدارة تكاليف الشحن بسهولة.
